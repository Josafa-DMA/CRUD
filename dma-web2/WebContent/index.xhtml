<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>

<h:body>

	<p:linkButton outcome="novo-usuario" value="Novo"
		style="margin-right:20px;">
	</p:linkButton>

	<h:form>

		<p:messages id="messages" />

		<p:panelGrid columns="4"
			columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
			layout="grid" styleClass="ui-panelgrid-blank ui-fluid"
			style="border:0px none; background-color:transparent;">

			<p:row styleClass="my-heading-row">
				<strong>Filtrar Usuário</strong>
			</p:row>

			<p:outputLabel for="@next" value="Nome" />
			<p:inputText value="#{ListarUsuario.nomeFiltro}"/>

			<p:outputLabel for="@next" value="CPF" />
			<p:inputText value="#{ListarUsuario.cpfFiltro}"/>
			
			<p:outputLabel for="@next" value="Inicio" />
			<p:datePicker id="dateInicio" value="#{ListarUsuario.dataInicioFiltro}" showIcon="true" style="width:auto"/>

			<p:outputLabel for="@next" value="Fim" />
			<p:datePicker id="dateFim" value="#{ListarUsuario.dataFimFiltro}" showIcon="true" style="width:auto"/>

		</p:panelGrid>
		
		<p:commandButton value="Filtrar"
				action="#{ListarUsuario.filtrar}" ajax="false">
		</p:commandButton>
		
		<p:commandButton value="Buscar por CPF"
				action="#{ListarUsuario.buscarPorCpf('21718718718')}" ajax="false">
		</p:commandButton>
		
	</h:form>
	
	<h:form>
	    <div class="card">
	        <p:dataTable var="usuario" value="#{ListarUsuario.listaUsuariosFiltro}" rendered="#{not empty ListarUsuario.listaUsuariosFiltro}">
	            <p:column headerText="ID">
	                <h:outputText value="#{usuario.id}" />
	            </p:column>
	
	            <p:column headerText="Data Cadastro">
	                <h:outputText value="#{usuario.dataCadastro}" />
	            </p:column>
	
	            <p:column headerText="Nome">
	                <h:outputText value="#{usuario.name}" />
	            </p:column>
	
	            <p:column headerText="CPF">
	                <h:outputText value="#{usuario.cpf}" />
	            </p:column>
	            
	            <p:column headerText="Email">
	                <h:outputText value="#{usuario.email}" />
	            </p:column>
	            
	            <p:column headerText="Perfil">
	                <h:outputText value="#{usuario.perfil.tipo}" />
	            </p:column>
	            
				<p:column headerText="Ação">
	                <p:commandButton value="Detalhar"/>&#160;&#160;
	                <p:commandButton value="Editar" action="#{ListarUsuario.buscarPorCpf(usuario.cpf)}" />&#160;&#160;
	                <p:commandButton value="Excluir" action="#{ListarUsuario.buscarPorCpf(usuario.id)}" />
	            </p:column>
	            
	        </p:dataTable>
	    </div>
	</h:form>
</h:body>
</html>
